# 스프링 입문(김영한)
## 프로젝트 환경설정
### build.gradle
- 버전 설정 / 라이브러리 가져오는 역할 (세부사항은 추후공부하는 편이 나음)

```java
repositories {  
  mavenCentral()  
}  
  
dependencies {  
  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'  
  implementation 'org.springframework.boot:spring-boot-starter-web'  
  testImplementation 'org.springframework.boot:spring-boot-starter-test'  
}
```
- 라이브러리들을 mavenCentral에서 다운로드.



### gitignore
- git에 올릴 것, 안 올릴 것 분리


### External Libraries
- gradle/maven은 라이브러리 의존관계를 관리해준다.
- 이전에는 WAS를 서버에 설치, 사용, 거기에 java 코드를 넣는 식으로 했었지만, 지금은 이렇게 tomcat을 embedded 시켜서 개발 라이브러리와 분리하지 않고 개발이 가능하다. 라이브러리를 빌드하여 웹서버에 빌드하는 식.
- slf4j인터페이스, logback로그의 구현체 출력
- 
## 스프링 웹 개발 기초
- 정적 컨텐츠: 파일을 그대로 웹 브라우저에 전달
- MVC/템플릿엔진: 서버 내에서 html을 변형하여 전달
- API: json 데이퍼 포맷으로 전달, 서버간 통신

### 정적 컨텐츠
1. 웹 브라우저에서 localhost8080:hello-static html요청
2. 스프링 컨테이너 내에는 매핑된 컨트롤러 없음
3. resources의 static에서 hello-static.html찾아서 웹브라우저로 전달

### MVC와 템플릿 엔진
- Model1: Controller와 View가 구별되지 않았음(View가 전담)
요청 전체를 JSP가 처리한다.
- Model2: MVC방식, 요청은 서블릿, 서블릿이 View와 Model로 구별전달

```
@GetMapping("registerMvc")  
public String registerMvc(@RequestParam(value = "name", required = false) String name, Model model) {  
    model.addAttribute("name", name);  
 return "registerTemplate";
 ``` 
 - required 값이 true면(기본값) null 불가.
 - ?name=parameter 식으로 인자 전달.
 1. localhost8080/registerMvc?name=parameter 요청
 2. 해당 컨트롤러가 name값을 모델에 담고(RequstParam으로 name은 parameter가 됨), registerTemplate 리턴값전달.
 3. viewResolver에서 templates/registerTemplate.html을 Thymeleaf템플릿 엔진으로 처리, 변환 후의 html을 웹 브라우저로 전달.

### API
### 방식1
```
@GetMapping("registerString")  
@ResponseBody  
public String registerString(@RequestParam(value = "message") String message, Model model) {  
    return message;  
}
```
- viewResolver를 거치지 않고 바로 String 형태 리턴값은 message만 띄움.

### 방식2
```
@GetMapping("registerApi")  
@ResponseBody  
public Responser registerApi(@RequestParam(value = "name") String name,  
  @RequestParam(value = "id") int id) {  
    Responser responser = new Responser();  
  responser.name = name;  
  responser.id = id;  
 return responser;  
}
```
- 객체 responser를 전달함.
- Json 포맷으로 전달됨.
- @RequsetParam은 위와 같이 각 인자별로 붙여서 웹 요청 매개변수를 다수 받을수도 있음.
- @RequestParam값을 둘 이상 전달할 때는
```
http://localhost:8080/registerApi?name=programmer&id=256
```
과 같이 ?값1&값2 하는 식으로 이어나갈 수 있다.


<!--stackedit_data:
eyJoaXN0b3J5IjpbMTExNzg0NDksLTQwNjQ5NTI0NSwtMTQ1NT
U1NzA3LDE3MDI1MDkyNjgsNjM2MzgyMTAyLDE4MDczODM3OTZd
fQ==
-->