# 모든 개발자를 위한 HTTP 기초 지식
## 인터넷 네트워크
### 인터넷 통신
인터넷 망은 복잡하다. 클라이언트로부터 서버까지의 통신은 여러 노드를 거쳐서 이루어진다. 이 통신과정에 대해 이해하기 위해서는 IP에 대해 알아야 한다.

### 인터넷 프로토콜(IP; Internet Protocol)
- 지정한 IP 주소에 데이터를
패킷(Packet)이라는 통신 단위로 전달한다.
- IP 패킷
	- 전송 데이터에 출발지 IP, 목적지 IP + 기타 정보를 더한 것
	- 클라이언트 / 서버 패킷의 IP표기를 바탕으로 노드들을 거쳐 목적지에 전달된다.
	- 망의 복잡성 등으로 인해서 CLI -> SRV 노드 루트와 SRV -> CLI 노드 루트는 다를 수 있다.
#### 한계
1. 비연결성
	- 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷은 전송된다
	- 클라이언트는 대상 서버가 패킷을 받을 수 있는 상태인지 모르기 때문이다.
2. 비신뢰성
	- 중간에 패킷이 사라지거나(패킷 소실), 패킷이 순서대로 오지 않을 수 있다.
3. 프로그램 구분: 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상일 경우
- 이러한 한계들을 극복하기 위하여 TCP, UDP가 있다.

### TCP, UDP
- TCP: 전송 제어 프로토콜(Transmission Control Protocol)
- UDP: 사용자 데이터그램 프로토콜(User Datagram Protocol)

#### 인터넷 프로토콜 스택의 사계층
1. 애플리케이션 계층 - HTTP, FTP
2. 전송 계층 - TCP, UDP
3. 인터넷 계층 - IP
4. 네트워크 인터페이스 계층
- 메시지 전달 사례
	- 애플리케이션
		1. 프로그램이 "Hello, world!" 메시지 생성(HTTP)
		2. SOCKET 라이브러리를 통해 전달
	- OS
		3. TCP 정보 생성, 메시지 데이터 포함(HTTP + TCP)
		4. IP 패킷 생성, TCP 데이터 포함(HTTP + TCP + IP)
	- 네트워크 인터페이스
		5. LAN카드를 통해서 인터넷으로 나감(HTTP + TCP + IP + Ethernet frame)
			- 이더넷 프레임: MAC 주소 등 물리적인 정보를 포함
- 패킷(Packet)
	- Pakage + bucket
	- 구성
		- 전송 데이터 +
		- 출발지 PORT, 목적지 PORT, 전송 제어, 순서, 검증 정보(TCP)
		- 출발지 IP, 목적지 IP, 기타(IP)
	- TCP/IP 패킷에서는 TCP정보가 들어감으로써 IP 패킷만 전달할 때 발생하는 문제들이 해결됨

#### TCP의 특징
1. 연결지향
2. 데이터 전달 보증
3. 순서 보장
- 신뢰할 수 있는 프로토콜
- 현재는 대부분 TCP 프로토콜 사용

##### TCP 3way handshake
1. SYN (CLI -> SRV)
2. SYN + ACK (SRV -> CLI)
3. ACK (CLI -> SRV)
4. 데이터 전달
- SYN: 접속 요청
- ACK: 요청 수락
- 마지막 ACK와 함께 데이터 전송 가능(최적화)
- 물리적 연결이 아니라 논리적 연결(가상 연결)임에 유의할 것!

#### UDP의 특징
- 기능이 거의 없음
	- 3 way handshake 없음
	- 데이터 전달 보증 없음
	- 순서 보장 없음
- 단순하고 빠름
- IP와 유사하고 + PORT + 체크섬(검증) 정도 추가됨
- 애플리케이션에서 추가 작업이 필요함
- TCP에 비해 더 최적화
- HTTP3의 경우 UDP 프로토콜 사용
